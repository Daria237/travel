import random
import telebot
from typing import Dict, List, Tuple
from dotenv import load_dotenv
load_dotenv()
BOT_TOKEN = os.getenv('TOKEN')

bot = telebot.TeleBot(BOT_TOKEN)

# –°–ª–æ–≤–∞—Ä–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
user_states = {}


class UrbanExplorer:
    def __init__(self):
        self.adventure_data = self._load_adventure_data()
        self.additional_tasks = self._load_additional_tasks()
        self.adventure_types = {
            "1": "photographer",
            "2": "historian",
            "3": "foodie",
            "4": "fun"
        }
        self.districts = {
            "1": "nizhegorodsky",
            "2": "sovetsky",
            "3": "prioksky"
        }
        self.district_names = {
            "nizhegorodsky": "–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∏–π",
            "sovetsky": "–°–æ–≤–µ—Ç—Å–∫–∏–π",
            "prioksky": "–ü—Ä–∏–æ–∫—Å–∫–∏–π"
        }
        self.type_names = {
            "photographer": "–§–æ—Ç–æ–≥—Ä–∞—Ñ-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å üì∏",
            "historian": "–ò—Å—Ç–æ—Ä–∏–∫-–¥–µ—Ç–µ–∫—Ç–∏–≤ üïµÔ∏è",
            "foodie": "–ì–∞—Å—Ç—Ä–æ–Ω–æ–º-–ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ üçú",
            "fun": "–§–∞–Ω–∞—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã—Ö —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π üé≠"
        }


    def _load_adventure_data(self) -> Dict:
        """–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –º–∞—Ä—à—Ä—É—Ç–∞—Ö"""
        return {
            "photographer": {
                "nizhegorodsky": [
                    "–ú—É–ª—å—Ç–∏–º–µ–¥–∏–∞-–∞—Ä—Ç-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¶–ï–• - –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ –∫–∞–¥—Ä—ã –∏ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏—Å–∫—É—Å—Å—Ç–≤–æ–º (—É–ª. –í–∞—Ä–≤–∞—Ä—Å–∫–∞—è 32–∞)",
                    "–°—Ç—É–¥—ë–Ω—ã–π –∫–≤–∞—Ä—Ç–∞–ª - –ª–æ–∫–∞—Ü–∏—è –º—ã—Å–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –≤ —Å–æ–ª–Ω–µ—á–Ω—É—é –ò—Ç–∞–ª–∏—é (–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —É–ª–∏—Ü –ó–≤–µ–∑–¥–∏–Ω–∫–∏ –∏ –°—Ç—É–¥—ë–Ω–æ–π)",
                    "–ó–∞–¥–Ω–∏–π —Ñ–∞—Å–∞–¥ –∏ –∫—Ä—ã—à–∏ –ë–ª–∏–Ω–æ–≤—Å–∫–æ–≥–æ –ø–∞—Å—Å–∞–∂–∞ - –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–∞—è —ç—Å—Ç–µ—Ç–∏–∫–∞ –∏ –∫–∏—Ä–ø–∏—á (—É–ª. –†–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∞—è 24)",
                    "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤—Å–∫–∏–π –ø–∞—Ä–∫ - –ø–µ—Ä–≤—ã–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ –ù–∏–∂–Ω–µ–≥–æ –ù–æ–≤–≥–æ—Ä–æ–¥–∞ –ø–∞—Ä–∫ –≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —Å—Ç–∏–ª–µ",
                    "–ì–∞–ª–µ—Ä–µ—è 9–± - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ (—É–ª. –û–∫—Ç—è–±—Ä—å—Å–∫–∞—è 9–±)"
                ],
                "sovetsky": [
                    "–ú—É–∑–µ–π-–∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫ '–©—ë–ª–æ–∫–æ–≤—Å–∫–∏–π —Ö—É—Ç–æ—Ä' - –∏–¥–µ–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Å—ä—ë–º–∫–∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π —Ä—É—Å—Å–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —ç—Ç–Ω–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —Å—é–∂–µ—Ç–æ–≤ (—É–ª. –ì–æ—Ä–±–∞—Ç–æ–≤—Å–∫–∞—è 41) ",
                    "–ë–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏–π —Å–∞–¥ –ù–ù–ì–£ - –º–µ—Å—Ç–æ, –≥–¥–µ –º–æ–∂–Ω–æ –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è –ø—Ä–∏—Ä–æ–¥–æ–π (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 23)",
                    "Street art '–ö–Ω–∏–≥–∞ –î–∂—É–Ω–≥–ª–µ–π' - —É–ª–∏—á–Ω–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 36)"
                ],
                "prioksky": [
                    "–ì–∏–≥–∞–Ω—Ç—Å–∫–∞—è —Å–æ—Å–Ω–æ–≤–∞—è —à–∏—à–∫–∞ - –Ω–µ–æ–±—ã—á–Ω—ã–π –∞—Ä—Ç-–æ–±—ä–µ–∫—Ç –≤ –ø–∞—Ä–∫–µ '–®–≤–µ–π—Ü–∞—Ä–∏—è'",
                    "–ü–∞—Ä–∫ –±–∞–±–æ—á–µ–∫ 'Paradise' - –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–π –∫—Ä–∞—Å–æ—Ç—ã —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–µ –±–∞–±–æ—á–∫–∏ (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 35/1)",
                    "–°–∫—É–ª—å–ø—Ç—É—Ä–∞ '–ì—Ä–æ–º–æ–∑–µ–∫–∞' - —Ç–æ—Ç —Å–∞–º—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–∑ —Å–æ–≤–µ—Ç—Å–∫–æ–≥–æ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–∞ (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 101/5)"
                ]
            },
            "historian": {
                "nizhegorodsky": [
                    "–£—Å–∞–¥—å–±–∞ –†—É–∫–∞–≤–∏—à–Ω–∏–∫–æ–≤—ã—Ö - –≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π –æ–±—Ä–∞–∑–µ—Ü –∫—É–ø–µ—á–µ—Å–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã 19 –≤–µ–∫–∞ (–í–µ—Ä—Ö–Ω–µ-–í–æ–ª–∂—Å–∫–∞—è –Ω–∞–±. 7)",
                    "–ú—É–∑–µ–π-–∫–≤–∞—Ä—Ç–∏—Ä–∞ –ê.–ú. –ì–æ—Ä—å–∫–æ–≥–æ - —Ä–∞—Å–∫—Ä–æ–π –∏—Å—Ç–æ—Ä–∏—é '–¥–æ–º–∞-—Å–∞–º–æ—É–±–∏–π—Ü—ã' (—É–ª. –°–µ–º–∞—à–∫–æ 19)",
                    "–û—Å–æ–±–Ω—è–∫ –ö–∞–º–µ–Ω—Å–∫–∏—Ö - –ø–æ—á—É–≤—Å—Ç–≤—É–µ—Ç–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –º–∏—Å—Ç–∏–∫–∏ –∏ —É–∑–Ω–∞–µ—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ª–µ–≥–µ–Ω–¥ (–í–µ—Ä—Ö–Ω–µ-–í–æ–ª–∂—Å–∫–∞—è –Ω–∞–±. 11)",
                    "–•—Ä–∞–º –†–æ–∂–¥–µ—Å—Ç–≤–∞ –ò–æ–∞–Ω–Ω–∞ –ü—Ä–µ–¥—Ç–µ—á–∏ - –¥—Ä–µ–≤–Ω–∏–µ —Ñ—Ä–µ—Å–∫–∏ —Å –∑–∞–≥–∞–¥–æ—á–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏, —Ç–∞–π–Ω–∏–∫–∏ –≤ —Å—Ç–µ–Ω–∞—Ö —Ö—Ä–∞–º–∞ (–ò–≤–∞–Ω–æ–≤—Å–∫–∏–π —Å—ä–µ–∑–¥ 1–±)",
                    "–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∏–π –æ—Å—Ç—Ä–æ–≥ - —Ç—é—Ä–µ–º–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ –¥–µ–ª–∞–º–∏, –ª–µ–≥–µ–Ω–¥—ã –æ –ø–æ–±–µ–≥–∞—Ö (–ø–ª. –°–≤–æ–±–æ–¥—ã 2–∞)"
                ],
                "sovetsky": [
                    "–ö—Ä–µ—Å—Ç–æ–≤–æ–∑–¥–≤–∏–∂–µ–Ω—Å–∫–∏–π –∂–µ–Ω—Å–∫–∏–π –º–æ–Ω–∞—Å—Ç—ã—Ä—å (–û–∫—Å–∫–∏–π —Å—ä–µ–∑–¥ 2–±)",
                    "–ó–æ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º—É–∑–µ–π –ù–ù–ì–£ (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 23)",
                    "–ú—É–∑–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –±—ã—Ç–∞ –Ω–∞—Ä–æ–¥–æ–≤ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–≥–æ –ü–æ–≤–æ–ª–∂—å—è (—É–ª. –ì–æ—Ä–±–∞—Ç–æ–≤—Å–∫–∞—è 41)",
                    "–í–¥–æ–≤–∏–π –¥–æ–º –ë–ª–∏–Ω–æ–≤—ã—Ö –∏ –ë—É–≥—Ä–æ–≤—ã—Ö (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 2)"
                ],
                "prioksky": [
                    "–ú—É–∑–µ–π –ê. –î. –°–∞—Ö–∞—Ä–æ–≤–∞ - —Ç–∞–π–Ω—ã –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ 20 –≤–µ–∫–∞ (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 214)",
                    "–ú–µ–º–æ—Ä–∏–∞–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å '–ü–æ–±–µ–¥–∞' - –ø–∞–º—è—Ç—å –æ –ø–æ–≥–∏–±—à–∏—Ö –≤ –≥–æ–¥—ã –í–û–í (–ø–ª. –ú–∞—Ä—à–∞–ª–∞ –ñ—É–∫–æ–≤–∞)",
                    "–°–∫—É–ª—å–ø—Ç—É—Ä–∞ '–ì—Ä–æ–º–æ–∑–µ–∫–∞' - —Ç–æ—Ç —Å–∞–º—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–∑ —Å–æ–≤–µ—Ç—Å–∫–æ–≥–æ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–∞ (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 101/5)"
                ]
            },
            "foodie": {
                "nizhegorodsky": [
                    "–†–µ—Å—Ç–æ—Ä–∞–Ω '–ü—è—Ç–∫–∏–Ω—ä' - –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ 19 –≤–µ–∫–∞ –∏ –±–ª—é–¥–∞ –ø–æ —Å—Ç–∞—Ä–∏–Ω–Ω—ã–º —Ä–µ—Ü–µ–ø—Ç–∞–º (–ø–µ—Ä. –í–∞—Ö–∏—Ç–æ–≤–∞ 4–∞)",
                    "–†–µ—Å—Ç–æ—Ä–∞–Ω '–ü–∞—Ä–∫ –ö—É–ª—å—Ç—É—Ä—ã' - –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–π '–≥–æ—Ä—è—â–∏–π' –¥–µ—Å–µ—Ä—Ç '–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞' (–í–µ—Ä—Ö–Ω–µ-–í–æ–ª–∂—Å–∫–∞—è –Ω–∞–±. 10–∞)",
                    "–ö–∞—Ñ–µ '–í—Å–ø—ã—à–∫–∞' - –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –≤ —Å—Ç–∏–ª–µ –£—ç—Å–∞ –ê–Ω–¥–µ—Ä—Å–æ–Ω–∞: —Ä–µ—Ç—Ä–æ-–¥–µ—Ç–∞–ª–∏, —è—Ä–∫–∏–µ —Ü–≤–µ—Ç–∞, –≤—ã—Å—Ç–∞–≤–∫–∏ –º–æ–ª–æ–¥—ã—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤ (—É–ª. –ê–ª–µ–∫—Å–µ–µ–≤—Å–∫–∞—è 11)",
                    "–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∞—è '–í–æ–ª–∫–æ–Ω—Å–∫–∏–π' - —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–µ –∫—Ä—É–∞—Å—Å–∞–Ω—ã –≥–æ—Ç–æ–≤—è—Ç—Å—è –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –ø—Ä–∏–≤–µ–∑—ë–Ω–Ω—ã—Ö –∏–∑ –§—Ä–∞–Ω—Ü–∏–∏ (—É–ª. –£–ª—å—è–Ω–æ–≤–∞ 13)",
                    "–ö–æ—Ñ–µ–π–Ω—è '–°–∏–Ω–Ω–∞–±–æ–Ω' - —Ç–µ —Å–∞–º—ã–µ –∞—Ä–æ–º–∞—Ç–Ω—ã–µ –±—É–ª–æ—á–∫–∏ —Å –∫–æ—Ä–∏—Ü–µ–π (—É–ª. –ë–æ–ª—å—à–∞—è –ü–æ–∫—Ä–æ–≤—Å–∫–∞—è 30–∞)",
                    "–†–µ—Å—Ç–æ—Ä–∞–Ω 'Ministry of Breakfast' - –ø–æ–∑–∞–≤—Ç—Ä–∞–∫–∞–π—Ç–µ –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–º –æ—Å–æ–±–Ω—è–∫–µ –ù–∏–∂–Ω–µ–≥–æ –ù–æ–≤–≥–æ—Ä–æ–¥–∞!(—É–ª. –ë–æ–ª—å—à–∞—è –ü–æ–∫—Ä–æ–≤—Å–∫–∞—è 21/5)",
                    "–†–µ—Å—Ç–æ—Ä–∞–Ω 'Escape' - –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω, –∞–≤—Ç–æ—Ä—Å–∫–∞—è –∫—É—Ö–Ω—è, –±–ª—é–¥–∞ –∏–∑ —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–í–µ—Ä—Ö–Ω–µ-–í–æ–ª–∂—Å–∫–∞—è –Ω–∞–±. 8)"

                ],
                "sovetsky": [
                    "–†–µ—Å—Ç–æ—Ä–∞–Ω '–ú–∞—Ç—Ä—ë—à–∫–∞' - –±–ª—é–¥–∞, –Ω–∞–ø–æ–º–∏–Ω–∞—é—â–∏–µ –æ –¥–µ—Ç—Å—Ç–≤–µ, –Ω–æ —Å –∞–≤—Ç–æ—Ä—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 54)",
                    "–†–µ—Å—Ç–æ—Ä–∞–Ω 'Ribs' - –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ç—Ä–∏ –∫—É—Ö–Ω–∏: —Ä—É—Å—Å–∫—É—é, –ø–∞–Ω–∞–∑–∏–∞—Ç—Å–∫—É—é –∏ —Å—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫—É—é (—É–ª. –ë–µ–ª–∏–Ω—Å–∫–æ–≥–æ 61/1)",
                    "–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∞—è '18 –Ω–æ—è–±—Ä—è' - –º–∞–∫–∞—Ä–æ–Ω–∏ –∏ –º–æ—Ç–∏ —Å –Ω–µ–∂–Ω–µ–π—à–µ–π –Ω–∞—á–∏–Ω–∫–æ–π (—É–ª. –ë–µ–ª–∏–Ω—Å–∫–æ–≥–æ 43)"
                ],
                "prioksky": [
                    "–†–µ—Å—Ç–æ—Ä–∞–Ω '–•–∞—á–∞–ø—É—Ä–∏ –ú–∞—Ä–∏–∫–æ' - –≥—Ä—É–∑–∏–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è —Å –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–º –≤–∏–¥–æ–º –Ω–∞ –ø–∞—Ä–∫ –®–≤–µ–π—Ü–∞—Ä–∏—è",
                    "–†–µ—Å—Ç–æ—Ä–∞–Ω 'Elleven' - –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–µ –≤–∏–¥—ã –Ω–∞ –≥–æ—Ä–æ–¥ –∏ –∞–≤—Ç–æ—Ä—Å–∫–∞—è –∫—É—Ö–Ω—è (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 27–∞)",
                    "–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∞—è '–í —Ü–≤–µ—Ç–∞—Ö' - —Å–≤–µ–∂–∞—è –≤—ã–ø–µ—á–∫–∞ –∏ –∞—Ä–æ–º–∞—Ç–Ω—ã–π –∫–æ—Ñ–µ (—É–ª. –ê–∫–∞–¥–µ–º–∏–∫–∞ –°–∞—Ö–∞—Ä–æ–≤–∞ 103–∞)"
                ]
            },
            "fun": {
                "nizhegorodsky": [
                    "–ü–∞—Ä–∫ —á—É–¥–µ—Å '–ì–∞–ª–∏–ª–µ–æ' - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–∫—Å–ø–æ–Ω–∞—Ç—ã, –∏–ª–ª—é–∑–∏–∏ –∏ –Ω–µ–æ–±—ã—á–Ω—ã–µ –∞—Ä—Ç-–∑–æ–Ω—ã (–ö–∞–∑–∞–Ω—Å–∫–æ–µ —à. 11) ",
                    "–ö–æ–ª–µ—Å–æ –æ–±–æ–∑—Ä–µ–Ω–∏—è '–ù–∏–ù–æ' - —É–≤–∏–¥–∏—Ç–µ –≤–µ—Å—å –≥–æ—Ä–æ–¥ —Å –≤—ã—Å–æ—Ç—ã –ø—Ç–∏—á—å–µ–≥–æ –ø–æ–ª—ë—Ç–∞! (–°–µ–Ω–Ω–∞—è –ø–ª–æ—â–∞–¥—å 2/1)",
                    "–ö–∞—Ä—Ç–∏–Ω–≥ 'Olymp Karting' -  –∏—Å–ø—ã—Ç–∞–π—Ç–µ –æ—Å—Ç—Ä—ã–µ –æ—â—É—â–µ–Ω–∏—è –æ—Ç –µ–∑–¥—ã –Ω–∞ –∫–∞—Ä—Ç–∞—Ö (—É–ª. –í–µ—Ä—Ö–Ω–µ-–ü–µ—á—ë—Ä—Å–∫–∞—è 7–±)",
                    "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π –∫–ª—É–± '–î–∞–Ω–∂' - –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ –±–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –∏–≥—Ä (—É–ª. –í–æ—Ä–æ–≤—Å–∫–æ–≥–æ 3)",
                    "–ö–∞–Ω–∞—Ç–Ω–∞—è –¥–æ—Ä–æ–≥–∞ - —Å–æ–µ–¥–∏–Ω—è–µ—Ç –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥ –∏ –ë–æ—Ä (–ö–∞–∑–∞–Ω—Å–∫–∞—è –Ω–∞–±. 8–∞)",
                    "–ù–ì–•–ú '–†—É—Å—Å–∫–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ' - —Ä—É—Å—Å–∫–∞—è –∂–∏–≤–æ–ø–∏—Å—å —Å–∞–º—ã—Ö –≤—ã–¥–∞—é—â–∏—Ö—Å—è –º–∞—Å—Ç–µ—Ä–æ–≤ (–ö—Ä–µ–º–ª—å 3)"

                ],
                "sovetsky": [
                    "–ë–æ—É–ª–∏–Ω–≥ '–ü–æ–±–µ–¥–∞' - —Ö–æ—Ä–æ—à–µ–µ –º–µ—Å—Ç–æ,—á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è —Å –¥—Ä—É–∑—å—è–º–∏ (—É–ª. –ë–µ–∫–µ—Ç–æ–≤–∞ 38)",
                    "–¢–µ–∞—Ç—Ä –æ–ø–µ—Ä—ã –∏ –±–∞–ª–µ—Ç–∞ –∏–º. –ü—É—à–∫–∏–Ω–∞ (—É–ª. –ë–µ–ª–∏–Ω—Å–∫–æ–≥–æ 59)",
                    "–ö–æ—Å–º–æ–ø–∞—Ä–∫ - –ø–æ—á—É–≤—Å—Ç–≤—É–π—Ç–µ —Å–µ–±—è –Ω–∞—Å—Ç–æ—è—â–∏–º –≥–µ—Ä–æ–µ–º –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π (–°–æ–≤–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥—å 5)",
                    "–¢–µ–Ω–Ω–∏—Å–Ω—ã–π –∫–æ—Ä—Ç 'Tennis park' (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 33)"
                ],
                "prioksky": [
                    "–ü–ª–∞–Ω–µ—Ç–∞—Ä–∏–π - –º–µ—Å—Ç–æ, –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∫–æ—Å–º–æ—Å–∞ (–ø–∞—Ä–∫ –®–≤–µ–π—Ü–∞—Ä–∏—è)",
                    "–ü–∞—Ä–∫ –±–∞–±–æ—á–µ–∫ 'Paradise' - –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–π –∫—Ä–∞—Å–æ—Ç—ã —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–µ –±–∞–±–æ—á–∫–∏ (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 35/1)",
                    "–ö–≤–µ—Å—Ç—ã '–ü—è—Ç—ã–π —É–≥–æ–ª' (—É–ª. 40 –ª–µ—Ç –æ–∫—Ç—è–±—Ä—è 7–≤) ",
                    "–ê–∫–≤–∞–ø–∞—Ä–∫ '–û–∫–µ–∞–Ω–∏—Å' - –º–Ω–æ–≥–æ –≤–æ–¥–Ω—ã—Ö –≥–æ—Ä–æ–∫, –µ—Å—Ç—å —Å–ø–∞ –∏ —Å–∞—É–Ω–∞ (–ø—Ä. –ì–∞–≥–∞—Ä–∏–Ω–∞ 35/1)"
                ]
            }

        }


    def _load_additional_tasks(self) -> Dict:
        """–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π"""
        return {
            "photographer": [
                "–°–Ω–∏–º–∏ '–ø–æ—Ç–∞–µ–Ω–Ω—ã–π –¥–≤–æ—Ä–∏–∫' - —Ç–∞–∫–æ–µ –º–µ—Å—Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ",
                "–ü–æ–π–º–∞–π –≤ –∫–∞–¥—Ä –∏–¥–µ–∞–ª—å–Ω—É—é —Å–∏–º–º–µ—Ç—Ä–∏—é –∏–ª–∏ –Ω–∞—Ä–æ—á–∏—Ç—ã–π —Ö–∞–æ—Å",
                "–ù–∞–π–¥–∏ –∏ —Å–Ω–∏–º–∏ —Å–∞–º—ã–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–π –≥—Ä–∞—Ñ—Ñ–∏—Ç–∏-–º—É—Ä–∞–ª –≤ —Ä–∞–π–æ–Ω–µ",
                "–°–æ–∑–¥–∞–π –ø–æ—Ä—Ç—Ä–µ—Ç '–Ω–µ–≤–∏–¥–∏–º–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞' —Ä–∞–π–æ–Ω–∞ (–¥–≤–æ—Ä–Ω–∏–∫, –ø—Ä–æ–¥–∞–≤–µ—Ü, –º—É–∑—ã–∫–∞–Ω—Ç)",
                "–°–Ω–∏–º–∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç: '–°—Ç–∞—Ä–æ–µ vs –ù–æ–≤–æ–µ' –≤ –æ–¥–Ω–æ–º –∫–∞–¥—Ä–µ"
            ],
            "historian": [
                "–ù–∞–π–¥–∏ '–∫–∞–ø—Å—É–ª—É –≤—Ä–µ–º–µ–Ω–∏' - –ø–æ—Å–ª–∞–Ω–∏–µ –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ (–ø–∞–º—è—Ç–Ω—É—é —Ç–∞–±–ª–∏—á–∫—É)",
                "–û–ø—Ä–µ–¥–µ–ª–∏, –≤ –∫–∞–∫–æ–º —Å—Ç–∞—Ä–æ–º –∑–¥–∞–Ω–∏–∏ –¥–æ —Å–∏—Ö –ø–æ—Ä –∂–∏–≤—É—Ç/—Ä–∞–±–æ—Ç–∞—é—Ç –ª—é–¥–∏",
                "–û—Ç—ã—â–∏ —Å–ª–µ–¥—ã '–∏—Å—á–µ–∑–Ω—É–≤—à–µ–≥–æ' —Ä–∞–π–æ–Ω–∞ (–º–µ—Å—Ç–æ, –≥–¥–µ —Ä–∞–Ω—å—à–µ –±—ã–ª —Ö—Ä–∞–º)",
                "–†–∞—Å—à–∏—Ñ—Ä—É–π —Å—Ç–∞—Ä—É—é –≤—ã–≤–µ—Å–∫—É –∏–ª–∏ —Ä–µ–∫–ª–∞–º—É, —Å–æ—Ö—Ä–∞–Ω–∏–≤—à—É—é—Å—è –Ω–∞ —Å—Ç–µ–Ω–µ –∑–¥–∞–Ω–∏—è",
                "–ù–∞–π–¥–∏ —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π –ø—Ä–µ–¥–º–µ—Ç –≤ —Ä–∞–π–æ–Ω–µ (—Ñ–æ–Ω–∞—Ä–Ω—ã–π —Å—Ç–æ–ª–±, –ª—é–∫, —Ç—Ä—É–±—É)"
            ],
            "foodie": [
                "–ü–æ–ø—Ä–æ–±—É–π –±–ª—é–¥–æ, –∫–æ—Ç–æ—Ä–æ–µ –≥–æ—Ç–æ–≤–∏—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –ø–æ–≤–∞—Ä –≤ —ç—Ç–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏",
                "–ù–∞–π–¥–∏ –∑–∞–≤–µ–¥–µ–Ω–∏–µ, –≥–¥–µ –∏–Ω—Ç–µ—Ä—å–µ—Ä —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é",
                "–°–ø—Ä–æ—Å–∏, –∏–∑ –∫–∞–∫–∏—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –Ω–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ç–æ–≤—è—Ç",
                "–ü–æ–ø—Ä–æ–±—É–π '–ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–Ω—É—é' —Ä—É—Å—Å–∫—É—é –∫—É—Ö–Ω—é",
                "–ó–∞–∫–∞–∂–∏ –Ω–∞–ø–∏—Ç–æ–∫/–¥–µ—Å–µ—Ä—Ç, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–≤—è–∑–∞–Ω–æ —Å –ù–∏–∂–Ω–∏–º –ù–æ–≤–≥–æ—Ä–æ–¥–æ–º"
            ],
            "fun": [
                "–ö—É–ø–∏ —Å—É–≤–µ–Ω–∏—Ä –Ω–µ –≤ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–º –º–∞–≥–∞–∑–∏–Ω–µ, –∞ –≤ –º–µ—Å—Ç–Ω–æ–º –∞—Ä—Ç-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ",
                "–ü–æ—Å–∏–¥–∏ 10 –º–∏–Ω—É—Ç –Ω–∞ —Å–∫–∞–º–µ–π–∫–µ –≤ —Ç–∏—Ö–æ–º –¥–≤–æ—Ä–µ, –Ω–∞–±–ª—é–¥–∞—è –∑–∞ –∂–∏–∑–Ω—å—é",
                "–°—Ö–æ–¥–∏ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –≤—ã—Å—Ç–∞–≤–∫—É –∏–ª–∏ –≤–µ—Ä–Ω–∏—Å–∞–∂, –µ—Å–ª–∏ –æ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏",
                "–ù–∞–π–¥–∏ –º–µ—Å—Ç–æ —Å –∂–∏–≤–æ–π –º—É–∑—ã–∫–æ–π –∏ –ø–æ—Å–ª—É—à–∞–π 1-2 –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏",
                "–°–ø—Ä–æ—Å–∏ —É –∫–∞—Å—Å–∏—Ä–∞, –∫–∞–∫–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –æ–Ω–∏ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∂–¥—É—Ç"
            ]
        }


    def generate_adventure(self, adventure_type: str, district: str) -> Dict:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º"""
        # –í—ã–±–∏—Ä–∞–µ–º 3 —Å–ª—É—á–∞–π–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞
        routes = self.adventure_data[adventure_type][district]
        selected_routes = random.sample(routes, min(3, len(routes)))

        # –í—ã–±–∏—Ä–∞–µ–º 3 —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è
        tasks = self.additional_tasks[adventure_type]
        selected_tasks = random.sample(tasks, min(3, len(tasks)))

        return {
            "type": adventure_type,
            "type_name": self.type_names[adventure_type],
            "district": district,
            "district_name": self.district_names[district],
            "routes": selected_routes,
            "tasks": selected_tasks
        }


    def format_adventure_message(self, adventure: Dict) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –≤ —Ç–µ–∫—Å—Ç –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è"""
        message = "üéä" * 10 + " –í–ê–® –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ô –ö–í–ï–°–¢! " + "üéä" * 10
        message += f"\n\nüè∑  –°—Ç–∏–ª—å: {adventure['type_name']}"
        message += f"\nüìç –†–∞–π–æ–Ω: {adventure['district_name']}"

        message += f"\n\nüó∫  –í–ê–® –ú–ê–†–®–†–£–¢:"
        for i, route in enumerate(adventure['routes'], 1):
            message += f"\n   {i}. {route}"

        message += f"\n\nüéØ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ó–ê–î–ê–ù–ò–Ø:"
        for i, task in enumerate(adventure['tasks'], 1):
            message += f"\n   ‚Ä¢ {task}"

        # –°–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ–≥—É–ª–∫–∏
        times = ["~2 —á–∞—Å–∞", "~2.5 —á–∞—Å–∞", "~3 —á–∞—Å–∞", "~1.5 —á–∞—Å–∞"]
        message += f"\n\n‚è±  –í—Ä–µ–º—è –ø—Ä–æ–≥—É–ª–∫–∏: {random.choice(times)}"

        message += "\n\n" + "‚ú®" * 15
        message += "\n   –•–æ—Ä–æ—à–µ–≥–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –≤ –ù–∏–∂–Ω–µ–º!"
        message += "\n" + "‚ú®" * 15

        return message


explorer = UrbanExplorer()


@bot.message_handler(commands=['start', 'help'])
def send_welcome(message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start –∏ /help"""
    welcome_text = """
üèôÔ∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ UrbanExplorer - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π –≤ –ù–∏–∂–Ω–µ–º –ù–æ–≤–≥–æ—Ä–æ–¥–µ!

–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å–æ–∑–¥–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞!

üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
/start - –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
/adventure - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ
/help - –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É

–í—ã–±–µ—Ä–∏ /adventure —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ!
    """
    bot.reply_to(message, welcome_text)


@bot.message_handler(commands=['adventure'])
def start_adventure(message):
    """–ù–∞—á–∞–ª–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è"""
    chat_id = message.chat.id

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π
    type_list = """
üéØ –í–´–ë–ï–†–ò –¢–ò–ü –ü–†–ò–ö–õ–Æ–ß–ï–ù–ò–Ø (–æ—Ç–ø—Ä–∞–≤—å —Ü–∏—Ñ—Ä—É –æ—Ç 1 –¥–æ 4):

1 - –§–æ—Ç–æ–≥—Ä–∞—Ñ-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å üì∏
2 - –ò—Å—Ç–æ—Ä–∏–∫-–¥–µ—Ç–µ–∫—Ç–∏–≤ üïµÔ∏è
3 - –ì–∞—Å—Ç—Ä–æ–Ω–æ–º-–ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ üçú
4 - –§–∞–Ω–∞—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã—Ö —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π üé≠

–û—Ç–ø—Ä–∞–≤—å —Ü–∏—Ñ—Ä—É –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞:
    """

    bot.send_message(chat_id, type_list)

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    user_states[chat_id] = {"step": "choose_type"}


@bot.message_handler(func=lambda message: True)
def handle_message(message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"""
    chat_id = message.chat.id
    user_state = user_states.get(chat_id, {})
    text = message.text.strip()

    if user_state.get("step") == "choose_type":
        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–∏–ø –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è
        if text in explorer.adventure_types:
            adventure_type = explorer.adventure_types[text]
            user_states[chat_id] = {
                "step": "choose_district",
                "adventure_type": adventure_type
            }

            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ä–∞–π–æ–Ω–æ–≤
            district_list = """
üìç –í–´–ë–ï–†–ò –†–ê–ô–û–ù (–æ—Ç–ø—Ä–∞–≤—å —Ü–∏—Ñ—Ä—É –æ—Ç 1 –¥–æ 3):

1 - –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∏–π
2 - –°–æ–≤–µ—Ç—Å–∫–∏–π
3 - –ü—Ä–∏–æ–∫—Å–∫–∏–π

–û—Ç–ø—Ä–∞–≤—å —Ü–∏—Ñ—Ä—É –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–∞–π–æ–Ω–∞:
            """

            bot.send_message(chat_id, district_list)
        else:
            bot.send_message(chat_id, "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å —Ü–∏—Ñ—Ä—É –æ—Ç 1 –¥–æ 4:")

    elif user_state.get("step") == "choose_district":
        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–∞–π–æ–Ω
        if text in explorer.districts:
            district = explorer.districts[text]
            adventure_type = user_state["adventure_type"]

            # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ
            adventure = explorer.generate_adventure(adventure_type, district)

            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            adventure_message = explorer.format_adventure_message(adventure)

            bot.send_message(chat_id, adventure_message)

            # –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ
            markup = telebot.types.InlineKeyboardMarkup()
            markup.add(telebot.types.InlineKeyboardButton("üé™ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ", callback_data="new_adventure"))

            bot.send_message(chat_id, "–•–æ—á–µ—à—å —Å–æ–∑–¥–∞—Ç—å –µ—â–µ –æ–¥–Ω–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ?", reply_markup=markup)

            # –û—á–∏—â–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            user_states.pop(chat_id, None)
        else:
            bot.send_message(chat_id, "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å —Ü–∏—Ñ—Ä—É –æ—Ç 1 –¥–æ 3:")

    else:
        # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        if text.isdigit():
            bot.send_message(chat_id, "–°–Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π /adventure —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ! üèôÔ∏è")
        else:
            bot.send_message(chat_id, "–ò—Å–ø–æ–ª—å–∑—É–π /adventure —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ! üèôÔ∏è")


@bot.callback_query_handler(func=lambda call: True)
def handle_callback(call):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ callback-–∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç inline –∫–Ω–æ–ø–æ–∫"""
    if call.data == "new_adventure":
        # –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π
        try:
            bot.delete_message(call.message.chat.id, call.message.message_id)
        except:
            pass
        # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è
        start_adventure(call.message)


def main():
    """–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
    print("–ë–æ—Ç UrbanExplorer –∑–∞–ø—É—â–µ–Ω!")
    bot.infinity_polling()


if __name__ == "__main__":
    main()